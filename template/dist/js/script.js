function setWeatherData(e,t,r,a){$.getJSON("http://api.openweathermap.org/data/2.5/forecast/city?lat="+e+"&lon="+t+"&units=metric&APPID=8ee5138d46a0454c83b9e6a24eb6f31e",function(e){$(".weather__city").text(e.city.name+", "+e.city.country).attr("href","http://maps.google.com/?q="+e.city.name),$(".weather__conditions").text(e.list[0].weather[0].description),$(".weather__phrase").text('"'+weatherPhrases[e.list[0].weather[0].description][Math.floor(Math.random()*weatherPhrases[e.list[0].weather[0].description].length)]+'"'),$(".temperature").addClass(Math.round(e.list[0].main.temp)<15?"temperature_low":"temperature_high"),$(".temperature__degrees").text(Math.round(e.list[0].main.temp)),$(".weather-resume__icon").text(r[e.list[0].weather[0].description]),a()})}function changeScale(e,t){return"F"==t?9*e/5+32:5*(e-32)/9}var weatherIcons={"clear sky":"☀️",hot:"☀️","few clouds":"🌤","scattered clouds":"🌥","broken clouds":"☁️","overcast clouds":"☁️","shower rain":"🌧","light rain":"🌧",rain:"🌧","light intensity drizzle":"🌧",drizzle:"🌧","heavy intensity drizzle":"🌧","light intensity drizzle rain":"🌧","drizzle rain":"🌧","heavy intensity drizzle rain":"🌧","shower rain and drizzle":"🌧","heavy shower rain and drizzle":"🌧","shower drizzle":"🌧","moderate rain":"🌧","heavy intensity rain":"🌧","very heavy rain":"🌧","extreme rain":"🌧","freezing rain":"🌧","light intensity shower rain":"🌧","heavy intensity shower rain":"🌧","ragged shower rain":"🌧",thunderstorm:"🌩","thunderstorm with light rain":"🌩","thunderstorm with rain":"🌩","thunderstorm with heavy rain":"🌩","light thunderstorm":"🌩","heavy thunderstorm":"🌩","ragged thunderstorm":"🌩","thunderstorm with light drizzle":"🌩","thunderstorm with drizzle":"🌩","thunderstorm with heavy drizzle":"🌩",snow:"🌨","light snow":"🌨","heavy snow":"🌨",sleet:"🌨","shower sleet":"🌨","light rain and snow":"🌨","rain and snow":"🌨","light shower snow":"🌨","shower snow":"🌨","heavy shower snow":"🌨",mist:"🌫",smoke:"🌫","sand, dust whirls":"🌫",fog:"🌫",sand:"🌫",dust:"🌫","volcanic ash":"🌫",squalls:"🌫",cold:"⛄️",windy:"💨",tornado:"🌪","tropical storm":"🌪",hurricane:"🌪",hail:"🌨",storm:"🌧","violent storm":"🌧",calm:"💨","light breeze":"💨","gentle breeze":"💨","moderate breeze":"💨","fresh breeze":"💨","strong breeze":"💨","high wind, near gale":"💨",gale:"💨","severe gale":"💨"},weatherPhrases={"clear sky":["The sky is perfectly clear. Go out!","With this sun you are going to burn in seconds","The sun is shinning for you"],"few clouds":["There are a few cloud in the sky so watch out!","Maybe you should get an umbrella"],"scattered clouds":["There are only a few clouds","It's not going to rain, don't worry"],"broken clouds":["Grab your phone and snap this moment!","Take a photo now!"],"shower rain":["It's starting to rain. Go home!","It's starting to rain but don't worry, it's nothing"],"light rain":["It's starting to rain. Go home!","It's starting to rain but don't worry, it's nothing"],rain:["It's raining. Go home!","Oh god, what a storm","Noah must be near. What a flood!","BRING THE ANIMALS NOAH!!!"],thunderstorm:["You should go home. The sky is angry","It's going to get real bad"],snow:["It's snowing, go grab your skies!","It's the perfect time to go skiing"],mist:["Don't take the car because you won't see anything","Do you see anything?"]},temperature_scales=["F","C"];$(document).ready(function(){$(".home__check-weather").click(function(){$(this).fadeOut(function(){$(".locating").fadeIn(300)}),$(".home").fadeOut(function(){$(".locating").fadeIn(300)}),navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(e){setWeatherData(e.coords.latitude,e.coords.longitude,weatherIcons,function(){$(".locating").fadeOut(function(){$(".weather").fadeIn()})})})}),$(".temperature__scale").click(function(){var e=Number($(".temperature__degrees").text()),t="C"==$(this).attr("data-scale")?"F":"C",r="C"==t?"º":"";$(".temperature__degrees").text(Math.round(changeScale(e,t))),$(".temperature__scale").text(r+t),$(this).attr("data-scale",t)})});