function setWeatherData(t,e,a,o){$.getJSON("http://api.openweathermap.org/data/2.5/forecast/city?lat="+t+"&lon="+e+"&units=metric&APPID=8ee5138d46a0454c83b9e6a24eb6f31e",function(t){$(".weather__city").text(t.city.name+", "+t.city.country).attr("href","http://maps.google.com/?q="+t.city.name),$(".weather__conditions").text(t.list[0].weather[0].description),$(".weather__phrase").text('"'+weatherPhrases[t.list[0].weather[0].description][Math.floor(Math.random()*weatherPhrases[t.list[0].weather[0].description].length)]+'"'),$(".temperature").addClass(Math.round(t.list[0].main.temp)<15?"temperature_low":"temperature_high"),$(".temperature__degrees").text(Math.round(t.list[0].main.temp)),$(".weather-resume__icon").text(a[t.list[0].weather[0].description]),o()})}function changeScale(t,e){return"F"==e?9*t/5+32:5*(t-32)/9}var weatherIcons={"clear sky":"☀️","few clouds":"🌤","scattered clouds":"🌥","broken clouds":"☁️","shower rain":"🌧","light rain":"🌧",rain:"🌧",thunderstorm:"🌩",snow:"🌨",mist:"🌫"},weatherPhrases={"clear sky":["The sky is perfectly clear. Go out!","With this sun you are going to burn in seconds","The sun is shinning for you"],"few clouds":["There are a few cloud in the sky so watch out!","Maybe you should get an umbrella"],"scattered clouds":["There are only a few clouds","It's not going to rain, don't worry"],"broken clouds":["Grab your phone and snap this moment!","Take a photo now!"],"shower rain":["It's starting to rain. Go home!","It's starting to rain but don't worry, it's nothing"],"light rain":["It's starting to rain. Go home!","It's starting to rain but don't worry, it's nothing"],rain:["It's raining. Go home!","Oh god, what a storm","Noah must be near. What a flood!","BRING THE ANIMALS NOAH!!!"],thunderstorm:["You should go home. The sky is angry","It's going to get real bad"],snow:["It's snowing, go grab your skies!","It's the perfect time to go skiing"],mist:["Don't take the car because you won't see anything","Do you see anything?"]},temperature_scales=["F","C"];$(document).ready(function(){$(".home__check-weather").click(function(){$(this).fadeOut(function(){$(".locating").fadeIn(300)}),$(".home").fadeOut(function(){$(".locating").fadeIn(300)}),navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(t){setWeatherData(t.coords.latitude,t.coords.longitude,weatherIcons,function(){$(".locating").fadeOut(function(){$(".weather").fadeIn()})})})}),$(".temperature__scale").click(function(){var t=Number($(".temperature__degrees").text()),e="C"==$(this).attr("data-scale")?"F":"C",a="C"==e?"º":"";$(".temperature__degrees").text(Math.round(changeScale(t,e))),$(".temperature__scale").text(a+e),$(this).attr("data-scale",e)})});